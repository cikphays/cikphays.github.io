<head>
  <title>reCAPTCHA dev: get access</title>
  <script>
    let currentScript;

    function loadRecaptcha(siteKey) {
      // Remove old script if it exists
      if (currentScript) {
        currentScript.remove();
      }

      // Create new script tag with updated site key
      currentScript = document.createElement('script');
      currentScript.src = `https://www.google.com/recaptcha/enterprise.js?render=${siteKey}`;
      document.head.appendChild(currentScript);

      // Update button attribute
      const button = document.getElementById("recaptcha-button");
      button.setAttribute("data-sitekey", siteKey);
    }

    function onSubmit(token) {
      document.getElementById("myToken").value = token;
    }

    function updateSiteKey() {
      const newKey = document.getElementById("siteKeyInput").value.trim();
      if (newKey) {
        loadRecaptcha(newKey);
      }
    }
  </script>
</head>
<body>
  <h3>Enter Site Key:</h3>
  <input type="text" id="siteKeyInput" placeholder="Enter new site key" style="width: 100%;" />
  <button onclick="updateSiteKey()">Update Site Key</button>

  <br><br>

  <button id="recaptcha-button" class="g-recaptcha"
    data-sitekey="6LdMbNopAAAAANxXRwGNbmgWctXFEodWzy1pp2bi"
    data-callback="onSubmit"
   </textarea>
</body>
</html>
